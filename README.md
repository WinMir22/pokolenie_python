# Программа для тестирования кода пользователя в IDE задач от платных курсов "Поколение Python"

## Описание

Эта программа предназначена для автоматического тестирования кода пользователя. Она проверяет, что вывод программы пользователя соответствует ожидаемому выводу для каждого тестового случая.

## Функциональность

- Чтение кода пользователя из файла
- Загрузка тестовых случаев и ожидаемых результатов
- Выполнение тестов с перехватом вывода
- Сравнение фактического вывода с ожидаемым
- Генерация отчетов о результатах тестирования

## Структура файлов

- `main.py` - основной скрипт для запуска тестирования
- `user_code.py` - файл с кодом пользователя для тестирования
- `input.txt` - файл с тестовыми случаями
- `output.txt` - файл с ожидаемыми результатами для тестов
- `result.txt` (опционально) - файл для сохранения результатов тестирования. Если не указан, данные выводятся в станажартный поток вывода
## Использование

### Базовая настройка

1. Поместите ваш код в файл `user_code.py`
2. Подготовьте тестовые случаи в файле `input.txt`
3. Укажите ожидаемые результаты в файле `output.txt`

### Запуск тестирования

Для запуска тестирования с параметрами по умолчанию:

```python
from main import check_code

check_code("user_code.py")
```

### Расширенные возможности

Вы можете указать пользовательские пути к файлам:

```python
check_code(
    my_code_file="user_code.py",
    input_file="custom_input.txt",
    output_file="custom_output.txt",
    test_results_file="custom_results.txt"
)
```

## Формат тестовых файлов

### input.txt

Файл содержит тестовые случаи, разделенные маркерами `# TEST_<номер>:`:

```
# TEST_1:
print(issubclass(LandVehicle, Vehicle))
print(issubclass(WaterVehicle, Vehicle))

# TEST_2:
print(issubclass(Car, LandVehicle))
print(issubclass(Motorcycle, LandVehicle))
```

### output.txt

Файл содержит ожидаемые результаты для каждого теста в том же формате:

```
# TEST_1:
True
True

# TEST_2:
True
True
```

## Требования к коду пользователя

Код в файле `user_code.py` должен содержать все необходимые классы, функции и переменные, которые используются в тестовых случаях. Например:

```python
class Vehicle:
    pass

class LandVehicle(Vehicle):
    pass

class WaterVehicle(Vehicle):
    pass

class Car(LandVehicle):
    pass

class Motorcycle(LandVehicle):
    pass
```

## Обработка ошибок

Программа выполняет следующие проверки:

- Проверяет корректность типов аргументов
- Проверяет существование указанных файлов
- Убеждается, что указанные пути ведут к файлам, а не директориям
- Обрабатывает исключения во время выполнения тестов

## Результаты тестирования

Для каждого теста программа выводит:

- ✅ TEST X ПРОЙДЕН!!! - если тест пройден успешно
- ❌ TEST X ПРОВАЛЕН!!! - если вывод не соответствует ожидаемому
- ❌ TEST X ПРОВАЛЕН С ИСКЛЮЧЕНИЕМ!!! - если во время выполнения произошла ошибка

При неудачном тесте также выводятся ожидаемый и фактический результаты для анализа.

## Особенности

- Программа очищает вывод от лишних пробелов и пустых строк перед сравнением
- Поддерживает перенаправление вывода в файл результатов
- Корректно обрабатывает Unicode-символы
- Все файлы открываются с использованием контекстных менеджеров для гарантированного закрытия

## Примечания

- Убедитесь, что все необходимые файлы находятся в правильной кодировке (UTF-8)
- Программа не изменяет исходные файлы с кодом пользователя или тестами
